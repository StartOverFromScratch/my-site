<section id="home-news" class="section">
  <div class="container">
    <h2 class="title is-4">お知らせ</h2>

    {{/* newsタイプの記事を新しい順に並べ、先頭5件のみ */}}
    {{ $items  := where site.RegularPages "Type" "news" }}
    {{ $sorted := sort $items "Date" "desc" }}
    {{ $latest := first 5 $sorted }}

    {{ if gt (len $latest) 0 }}
      <ul class="news-list">
        {{ range $latest }}
          <li class="news-item">
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
            <span class="news-date">{{ .Date.Format "2006-01-02" }}</span>
          </li>
        {{ end }}
      </ul>
    {{ else }}
      <p>現在、お知らせはありません。</p>
    {{ end }}

    {{ with site.GetPage "section" "news" }}
      <div class="has-text-right" style="margin-top:1rem;">
        <a class="button is-link is-light" href="{{ .RelPermalink }}">お知らせ一覧へ</a>
      </div>
    {{ end }}
  </div>
</section>

<style>
/* 必要なら軽く体裁を補助（Bulma準拠テーマでも邪魔しない程度） */
.news-list { list-style:none; padding-left:0; margin:0; }
.news-item { display:flex; justify-content:space-between; padding:.5rem 0; border-bottom:1px solid #eee; }
.news-item a { text-decoration:none; }
.news-date { white-space:nowrap; margin-left:1rem; color:#777; font-size:.9em; }
</style>
